<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="https://ti.unla.edu.mx/repositoriosii/Nifty_2.9.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://ti.unla.edu.mx/repositoriosii/Nifty_2.9.1/css/nifty.min.css">
    <link rel="stylesheet" href="https://ti.unla.edu.mx/repositoriosii/Nifty_2.9.1/css/theme-unla.css">
    <link rel="stylesheet" href="https://ti.unla.edu.mx/repositoriosii/Nifty_2.9.1/css/custom-unla.css">
    <link rel="stylesheet" href="https://ti.unla.edu.mx/repositoriosii/Nifty_2.9.1/plugins/bootstrap-select/bootstrap-select.min.css">
    <link rel="stylesheet" href="https://ti.unla.edu.mx/repositoriosii/sweetalert/sweetalert.css">
    <link rel="stylesheet" href="https://ti.unla.edu.mx/repositoriosii/Nifty_2.9.1/plugins/switchery/switchery.min.css">
    <link rel="stylesheet" href="https://ti.unla.edu.mx/repositoriosii/Nifty_2.9.1/plugins/bootstrap-validator/bootstrapValidator.min.css">

    <script src="https://ti.unla.edu.mx/repositoriosii/Nifty_2.9.1/js/jquery.min.js"></script>
    <script src="https://ti.unla.edu.mx/repositoriosii/Nifty_2.9.1/js/bootstrap.min.js"></script>
    <script src="https://ti.unla.edu.mx/repositoriosii/Nifty_2.9.1/js/nifty.min.js"></script>
    <script src="https://ti.unla.edu.mx/repositoriosii/Nifty_2.9.1/plugins/bootstrap-select/bootstrap-select.min.js"></script>
    <script src="https://ti.unla.edu.mx/repositoriosii/sweetalert/sweetalert.min.js"></script>
    <script src="https://ti.unla.edu.mx/repositoriosii/Nifty_2.9.1/plugins/switchery/switchery.min.js"></script>
    <script src="https://ti.unla.edu.mx/repositoriosii/Nifty_2.9.1/plugins/bootstrap-validator/bootstrapValidator.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <style>
        .panel-footer {
            border-bottom-right-radius: 15px !important;
            border-bottom-left-radius: 15px !important;
        }

        .btn {
            text-transform: none !important;
        }
    </style>

    
</head>

<body>

    <div id="app">
        <div id="page-content">
            <div class="row">
                <div class="col-md-8 col-md-offset-2">
                    <div class="panel">
                        <div class="panel-heading pad-top mar-btm">
                            <div class="panel-control">
                                <select v-model="question.typeSelected" data-placeholder="Tipo de pregunta" id="chosen-select" class="selectpicker">                                
                                    <option value="" selected disabled hidden>Tipo de pregunta:</option>
                                    <option value="LinearScale">LinearScale</option>
                                    <option value="Radiobutton">Radiobutton</option>
                                    <option value="Checkbox">Checkbox</option>
                                    <option value="LongAnswer">LongAnswer</option>
                                </select>
                            </div>
                            <h3 class="panel-title">
                                <input v-model="question.title" type="text" class="form-control" placeholder="Título de la pregunta...">
                            </h3>
                        </div>
                        <div class="panel-body">
                            <div class="well">#CONTENIDO                                
                                <linear-scale v-show="question.typeSelected==='LinearScale'"></linear-scale>
                                <radiobutton v-show="question.typeSelected==='Radiobutton'"></radiobutton>
                                <checkbox v-show="question.typeSelected==='Checkbox'"></checkbox>
                                <long-answer  v-show="question.typeSelected==='LongAnswer'"></long-answer>
                            </div>
                            <div class="text-right">Requerido <input v-model="question.required" id="sw-required" type="checkbox" checked></div>
                        </div>
                        <div class="panel-footer text-right">
                            <button v-on:click="getData" class="btn btn-morado btn-rounded">GUARDAR</button>
                        </div>
                    </div>
                </div>
            </div>  
            <p>{{ information }}</p>          
            <p>{{ jsonData }}</p>            
        </div>
    </div>

    <script>
        $(document).ready(function(){
            var elem = document.querySelector('#sw-required');
            var init = new Switchery(elem);
        });

        Vue.component('LinearScale', {
            data(){
                return{
                    title: 'LinearScale',
                    lowerValue: 1,
                    upperValue: 2,
                    lowerValueDescription:'',
                    upperValueDescription:'',
                }
            },
            methods:{

            },
            template:`
            <div>
                <h1 id="h1">{{title}}</h1>

                <div class="row">
                    <div class="col-md-6">
                        <div>
                            Valor mínimo:
                        </div>
                        <div>
                            <select v-model="lowerValue" data-placeholder="Tipo de pregunta" id="upper-select" class="selectpicker">
                                <option value=1 selected disabled>1</option>
                            </select>
                        </div>
                        <div>                    
                            <input v-model="lowerValueDescription" type="text" class="form-control" placeholder="Etiqueta de valor mínimo">                    
                        </div>
                        <div>
                            {{lowerValue}} : {{lowerValueDescription}}
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div>
                            Valor máximo:
                        </div>
                        <div>
                            <select v-model="upperValue" data-placeholder="Tipo de pregunta" id="upper-select" class="selectpicker">
                                <option value=2 selected>2</option>
                                <option value=3>3</option>
                                <option value=4>4</option>
                                <option value=5>5</option>
                                <option value=6>6</option>
                                <option value=7>7</option>
                                <option value=8>8</option>
                                <option value=9>9</option>
                                <option value=10>10</option>
                            </select>
                        </div>
                        <div>                    
                            <input v-model="upperValueDescription" type="text" class="form-control" placeholder="Etiqueta de valor máximo">
                        </div>
                        <div>
                            {{upperValue}} : {{upperValueDescription}}
                        </div>
                    </div>
                </div>
            </div>  
            `
        })

        Vue.component('Radiobutton', {
            data() {
                return {
                    title: 'Radiobutton',
                    counter: 1,
                    array:[]                 
                }
            },

            methods:{
                addItem(){
                    this.counter++;                    
                },

                getItems(){
                    this.array=[]
                    var a=this.$children.entries()
                    for(i of a){
                        if(i[1].itemContent!='')
                            this.array.push(i[1].itemContent)
                    }                    
                }
            },

            template:`
            <div>
                <h1 id="h1">{{title}}</h1>        
                <button v-on:click="addItem" class="btn btn-default btn-rounded">AGREGAR ITEM</button>
                <button v-on:click="getItems" class="btn btn-default btn-rounded">OBTENER INFO</button>
                <div v-for="index in counter">
                    <item></item>
                </div>        
                {{array}}
            </div>
            `
        })

        Vue.component('Checkbox', {
            data() {
                return {
                    title: 'Checkbox',
                    counter: 1,
                    array:[]                 
                }
            },

            methods:{
                addItem(){
                    this.counter++;                    
                },

                getItems(){
                    this.array=[]
                    var a=this.$children.entries()
                    for(i of a){
                        if(i[1].itemContent!='')
                            this.array.push(i[1].itemContent)
                    }                    
                }
            },
            template:`
            <div>
                <h1 id="h1">{{title}}</h1>        
                <button v-on:click="addItem" class="btn btn-default btn-rounded">AGREGAR ITEM</button>
                <button v-on:click="getItems" class="btn btn-default btn-rounded">OBTENER INFO</button>
                <div v-for="index in counter">
                    <item></item>
                </div>        
                {{array}}
            </div>
            `
        })

        Vue.component('LongAnswer', {
            data() {
                return {
                    title: 'LongAnswer',
                    placeholder:''
                }
            },
            methods:{

            },
            template:`
            <div>
                <h1 id="h1">{{title}}</h1>
                <input v-model="placeholder" type="text" class="form-control" placeholder="Texto informativo">
                {{placeholder}}
            </div>
            `
        })

        Vue.component('item', {
            data(){
                return{
                    itemContent:''
                }
            },
            methods:{
                
            },
            template:`
                <div>
                    <input v-model="itemContent" type="text" class="form-control" placeholder="Item component...">
                </div>
            `
        })

        var app = new Vue({
            el: '#app',
            data: {
                question:{
                    title:'',
                    typeSelected:'',                        
                    required:true
                },
                jsonData:'',
                jsonObj:null,                    
            },

            methods:{
                getData(){
                    this.jsonData=JSON.stringify(this.question)
                    this.jsonObj=JSON.parse(this.jsonData)
                },

                //v-on:change="changeType"
                //changeType(){
                    // alert('ok')
                    //this.message = '<p style="color:red;">New Message</p>';
                //}
            },

            computed:{
                information(){
                    return `
                        ${this.question.title}
                        ${this.question.typeSelected}
                        ${this.question.required}                        
                    `
                }
            }
        })
    </script>

</body>

</html>